# Load required libraries
library(RWeka)
library(caret)

# Load the ARFF dataset
data <- read.arff("decision_tree.arff")

# Split data into training and testing sets
set.seed(123)
index <- createDataPartition(data$PlayTennis, p = 0.7, list = FALSE)
train <- data[index, ]
test <- data[-index, ]

# Decision Tree Classifier
dt_model <- J48(PlayTennis ~ ., data = train)

# Predictions for Decision Tree
dt_pred <- predict(dt_model, test)

# Evaluate Decision Tree
dt_confusion <- confusionMatrix(dt_pred, test$PlayTennis)
cat("Decision Tree Confusion Matrix:\n")
print(dt_confusion$table)
cat("Decision Tree Accuracy:", dt_confusion$overall["Accuracy"], "\n")

# Generate Rules from the Decision Tree
cat("\nRules Generated by Decision Tree:\n")
print(dt_model)
